<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="items">
    <div class="board_list layout_width">

        <div class="top-box">
                <form name="frmSearch" th:action="${@utils.redirectUrl('/board/list/' + board.bid)}" autocomplete="off" th:object="${boardDataSearch}">
                    <input type="hidden" name="category" th:field="*{category}">
                    <select name="sopt" th:field="*{sopt}">
                        <option value="ALL" th:text="#{통합검색}"></option>
                        <option value="SUBJECT" th:text="#{제목}"></option>
                        <option value="CONTENT" th:text="#{내용}"></option>
                        <option value="SUBJECT_CONTENT" th:text="#{제목+내용}"></option>
                        <option value="NAME" th:text="#{이름}"></option>
                    </select>
                    <input type="text" name="skey" th:field="*{skey}">
                    <button type="submit" th:text="#{검색하기}"></button>
                </form>
            <div class="links">
                <a th:href="${@utils.redirectUrl('/board/write/' + board.bid)}" class="btn" th:text="#{판매하기}"></a>
                <a th:href="${@utils.redirectUrl('/board/write/' + board.bid)}" class="btn" th:text="#{내상점}"></a>
            </div>

        </div>


        <ul class="items">
            <li th:if="${items == null || items.isEmpty()}" class="no_data"
                th:text="#{조회된_게시글이_없습니다.}"></li>

            <li th:unless="${items == null || items.isEmpty()}" th:each="item : ${items}" th:object="${item}" class="item">
                <a th:href="*{@utils.redirectUrl('/board/view/' + seq)}" class="item-link">
                    <div class="product_info">
                    <span class="subject">
                        <th:block th:text="*{subject}"></th:block>
                    </span>
                        <span class="price">
                        <th:block th:if="*{num1 == 0}" class="free" th:text="#{무료나눔}"></th:block>
                        <th:block th:unless="*{num1 == 0}" th:text="*{#numbers.formatInteger(num1, 1, 'COMMA')} + '원'"></th:block>
                    </span>
                    </div>
                    <div class="post_info">
                    <span class="view_count">
                        조회수 :
                        <th:block th:text="*{viewCount >= 1000 ? #numbers.formatInteger(viewCount, 3, 'COMMA') : viewCount}"></th:block>
                    </span>
                        <span class="post_date"
                              th:text="*{@timeUtils.formatRelativeTime(createdAt)}"></span>
                    </div>
                    <!--// post_info -->
                </a>
            </li>
        </ul>
        <!--// list_search -->

        <th:block th:if="${boardData == null && !#strings.isEmpty(board.htmlBottom)}" th:utext="${board.htmlBottom}"></th:block>

    </div>
    <th:block th:replace="~{common/_pagination::pagination}"></th:block>
</th:block>
</html>
